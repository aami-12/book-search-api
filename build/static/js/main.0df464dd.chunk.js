(this["webpackJsonpbook-api"]=this["webpackJsonpbook-api"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(5),r=n.n(a),i=(n(11),n(4)),o=n.n(i),l=n(6),b=n(2),u=n(0);function j(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:"heading",children:"Book Search App"}),Object(u.jsx)("div",{className:"searchbar",children:Object(u.jsx)("input",{type:"text",id:"search-input",className:"searchbar__input",placeholder:"Book or author...",onChange:function(t){return e.onChange(t.target.value)}})})]})}n(14);var h=function(e){var t=e.active,n=e.setActive,s=e.title,c=e.author,a=e.firstPublished,r=e.publisher,i=e.isbn,o=e.cover;return Object(u.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(u.jsxs)("div",{className:"modal__content",onClick:function(e){return e.stopPropagation()},children:[Object(u.jsxs)("div",{className:"modal__title",children:[Object(u.jsx)("p",{className:"modal__book-title",children:s}),Object(u.jsx)("p",{className:"modal__book-info",children:c})]}),Object(u.jsx)("div",{className:"modal__cover",children:Object(u.jsx)("img",{src:o,alt:"no cover available",className:"modal__image"})}),Object(u.jsxs)("div",{className:"modal__info",children:[Object(u.jsxs)("p",{className:"modal__book-info",children:["First Published: ",a]}),Object(u.jsxs)("p",{className:"modal__book-info",children:["Publisher: ",r]}),Object(u.jsxs)("p",{className:"modal__book-info",children:["ISBN: ",i]})]})]})})};function d(e){var t=e.title,n=e.author,c=e.firstPublished,a=e.publisher,r=e.isbn,i=e.cover,o=Object(s.useState)(!1),l=Object(b.a)(o,2),j=l[0],d=l[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"snippet",onClick:function(){return d(!0)},children:[Object(u.jsxs)("div",{className:"snippet__title",children:[Object(u.jsx)("p",{className:"snippet__book-title",children:t}),Object(u.jsx)("p",{className:"snippet__book-author",children:n})]}),Object(u.jsx)("div",{className:"snippet__cover",children:Object(u.jsx)("img",{className:"snippet__image",src:i,alt:"no cover available"})})]}),Object(u.jsx)(h,{active:j,setActive:d,title:t,author:n,firstPublished:c,publisher:a,isbn:r,cover:i})]})}var p=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)([]),r=Object(b.a)(a,2),i=r[0],h=r[1],p=Object(s.useState)(5),m=Object(b.a)(p,2),v=m[0],O=m[1],f=document.getElementById("load-more-button"),_="https://openlibrary.org/search.json?q=".concat(n);return Object(s.useEffect)((function(){var e=new AbortController;function t(){return(t=Object(l.a)(o.a.mark((function t(){var n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(_,{signal:e.signal});case 3:return n=t.sent,t.next=6,n.json();case 6:s=t.sent,h(s.docs),t.next=17;break;case 10:if(t.prev=10,t.t0=t.catch(0),"AbortError"!==t.t0.name){t.next=16;break}console.log("fetch cancel: caught abort"),t.next=17;break;case 16:throw t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),f&&(f.style.display="block"),function(){e.abort()}}),[n]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{onChange:function(e){c(e)}}),i.slice(0,v).map((function(e){return Object(u.jsx)(d,{title:e.title?e.title:"unknown",author:e.author_name?e.author_name[0]:"unknown",firstPublished:e.first_publish_year?e.first_publish_year:"unknown",publisher:e.publisher?e.publisher[0]:"unknown",isbn:e.isbn?e.isbn[0]:"unknown",cover:e.isbn?"http://covers.openlibrary.org/b/isbn/"+e.isbn[0]+"-M.jpg":""},e.key)})),Object(u.jsx)("button",{className:"load-more-button",id:"load-more-button",onClick:function(){O((function(e){return e+5}))},children:"Load more books"})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.0df464dd.chunk.js.map