{"version":3,"sources":["SearchBar.js","Modal.js","Snippet.js","App.js","index.js"],"names":["SearchBar","props","className","type","id","placeholder","onChange","e","target","value","Modal","active","setActive","title","author","firstPublished","publisher","isbn","cover","onClick","stopPropagation","src","alt","Snippet","useState","modalActive","setModalActive","App","search","setSearch","books","setBooks","visible","setVisible","loadMoreButton","document","getElementById","apiUrl","useEffect","controller","AbortController","a","fetch","signal","response","json","data","docs","name","console","log","fetchApi","style","display","abort","inputValue","slice","map","book","author_name","first_publish_year","key","prevValue","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0df464dd.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function SearchBar(props) {\r\n    return (\r\n      <>\r\n     <h1 className=\"heading\">Book Search App</h1>\r\n        <div className=\"searchbar\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"search-input\"\r\n            className=\"searchbar__input\"\r\n            placeholder=\"Book or author...\"\r\n            onChange={(e) => props.onChange(e.target.value)}\r\n          />\r\n          {/* <button\r\n                id=\"search-button\"\r\n                className=\"searchbar__button\"\r\n                onClick={() =>\r\n                    props.onChange(\r\n                        document.getElementById('search-input').value\r\n                    )\r\n                }\r\n            >\r\n                Search\r\n            </button> */}\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport './css/modal.css'\r\n\r\nconst Modal = ({\r\n    active,\r\n    setActive,\r\n    title,\r\n    author,\r\n    firstPublished,\r\n    publisher,\r\n    isbn,\r\n    cover,\r\n}) => {\r\n    return (\r\n        <div\r\n            className={active ? 'modal active' : 'modal'}\r\n            onClick={() => setActive(false)}\r\n        >\r\n            <div\r\n                className=\"modal__content\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"modal__title\">\r\n                    <p className=\"modal__book-title\">{title}</p>\r\n                    <p className=\"modal__book-info\">{author}</p>\r\n                </div>\r\n                <div className=\"modal__cover\">\r\n                    <img\r\n                        src={cover}\r\n                        alt=\"no cover available\"\r\n                        className=\"modal__image\"\r\n                    />\r\n                </div>\r\n                <div className=\"modal__info\">\r\n                    <p className=\"modal__book-info\">\r\n                        First Published: {firstPublished}\r\n                    </p>\r\n                    <p className=\"modal__book-info\">Publisher: {publisher}</p>\r\n                    <p className=\"modal__book-info\">ISBN: {isbn}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal\r\n","import React, { useState } from 'react'\r\nimport Modal from './Modal'\r\n\r\nexport default function Snippet({\r\n    title,\r\n    author,\r\n    firstPublished,\r\n    publisher,\r\n    isbn,\r\n    cover,\r\n}) {\r\n    const [modalActive, setModalActive] = useState(false)\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"snippet\" onClick={() => setModalActive(true)}>\r\n                <div className=\"snippet__title\">\r\n                    <p className=\"snippet__book-title\">{title}</p>\r\n                    <p className=\"snippet__book-author\">{author}</p>\r\n                </div>\r\n                <div className=\"snippet__cover\">\r\n                    <img\r\n                        className=\"snippet__image\"\r\n                        src={cover}\r\n                        alt=\"no cover available\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Modal\r\n                active={modalActive}\r\n                setActive={setModalActive}\r\n                title={title}\r\n                author={author}\r\n                firstPublished={firstPublished}\r\n                publisher={publisher}\r\n                isbn={isbn}\r\n                cover={cover}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import SearchBar from './SearchBar'\r\nimport Snippet from './Snippet'\r\nimport { useState, useEffect } from 'react'\r\n\r\nfunction App() {\r\n    // Search Input Value\r\n    const [search, setSearch] = useState('')\r\n    const [books, setBooks] = useState([])\r\n\r\n    // Pagination\r\n    const [visible, setVisible] = useState(5)\r\n    const loadMoreBooks = () => {\r\n        setVisible((prevValue) => prevValue + 5)\r\n    }\r\n    // Pagination button\r\n    const loadMoreButton = document.getElementById('load-more-button')\r\n\r\n    // fetch\r\n    const apiUrl = `https://openlibrary.org/search.json?q=${search}`\r\n\r\n    useEffect(() => {\r\n        let controller = new AbortController()\r\n\r\n        async function fetchApi() {\r\n            try {\r\n                const response = await fetch(apiUrl, {\r\n                    signal: controller.signal,\r\n                })\r\n                const data = await response.json()\r\n                setBooks(data.docs)\r\n            } catch (error) {\r\n                if (error.name === 'AbortError') {\r\n                    console.log('fetch cancel: caught abort')\r\n                } else {\r\n                    throw error\r\n                }\r\n            }\r\n        }\r\n\r\n        fetchApi()\r\n        if (loadMoreButton) {\r\n            loadMoreButton.style.display = 'block'\r\n        }\r\n\r\n        return () => {\r\n            controller.abort()\r\n        }\r\n    }, [search])\r\n    return (\r\n        <div className=\"App\">\r\n     \r\n            <SearchBar\r\n                onChange={(inputValue) => {\r\n                    setSearch(inputValue)\r\n                }}\r\n            />\r\n\r\n            {books.slice(0, visible).map((book) => {\r\n                return (\r\n                    <Snippet\r\n                        key={book.key}\r\n                        title={book.title ? book.title : 'unknown'}\r\n                        author={\r\n                            book.author_name ? book.author_name[0] : 'unknown'\r\n                        }\r\n                        firstPublished={\r\n                            book.first_publish_year\r\n                                ? book.first_publish_year\r\n                                : 'unknown'\r\n                        }\r\n                        publisher={\r\n                            book.publisher ? book.publisher[0] : 'unknown'\r\n                        }\r\n                        isbn={book.isbn ? book.isbn[0] : 'unknown'}\r\n                        cover={\r\n                            book.isbn\r\n                                ? 'http://covers.openlibrary.org/b/isbn/' +\r\n                                  book.isbn[0] +\r\n                                  '-M.jpg'\r\n                                : ''\r\n                        }\r\n                    />\r\n                )\r\n            })}\r\n            <button\r\n                className=\"load-more-button\"\r\n                id=\"load-more-button\"\r\n                onClick={loadMoreBooks}\r\n            >\r\n                Load more books\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './css/styles.css'\r\nimport App from './App'\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}